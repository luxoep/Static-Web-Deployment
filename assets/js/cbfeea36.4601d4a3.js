"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6523],{4909:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>a});var s=l(5893),r=l(1151);const i={slug:"SQL - UPDATE",title:"Update",authors:["Luxoep"],tags:["UPDATE","SET","WHERE"],sidebar_position:4},c=void 0,t={id:"SQLServer/Updatedoc",title:"Update",description:"\u5411\u8868\u4e2d\u63d2\u5165\u6570\u636e",source:"@site/docsMyLearn/SQLServer/Updatedoc.md",sourceDirName:"SQLServer",slug:"/SQLServer/SQL - UPDATE",permalink:"/docsMyLearn/SQLServer/SQL - UPDATE",draft:!1,unlisted:!1,tags:[{label:"UPDATE",permalink:"/docsMyLearn/tags/update"},{label:"SET",permalink:"/docsMyLearn/tags/set"},{label:"WHERE",permalink:"/docsMyLearn/tags/where"}],version:"current",sidebarPosition:4,frontMatter:{slug:"SQL - UPDATE",title:"Update",authors:["Luxoep"],tags:["UPDATE","SET","WHERE"],sidebar_position:4},sidebar:"docsMyLearn",previous:{title:"Insert",permalink:"/docsMyLearn/SQLServer/SQL - INSERT"},next:{title:"Delete",permalink:"/docsMyLearn/SQLServer/SQL - DELETE"}},o={},a=[{value:"\u5411\u8868\u4e2d\u63d2\u5165\u6570\u636e",id:"\u5411\u8868\u4e2d\u63d2\u5165\u6570\u636e",level:2},{value:"\u57fa\u672c\u66f4\u65b0",id:"\u57fa\u672c\u66f4\u65b0",level:3},{value:"\u4f7f\u7528 JOIN \u66f4\u65b0",id:"\u4f7f\u7528-join-\u66f4\u65b0",level:3},{value:"\u4f7f\u7528\u5b50\u67e5\u8be2\u66f4\u65b0",id:"\u4f7f\u7528\u5b50\u67e5\u8be2\u66f4\u65b0",level:3},{value:"\u66f4\u65b0\u591a\u4e2a\u5217",id:"\u66f4\u65b0\u591a\u4e2a\u5217",level:3},{value:"\u66f4\u65b0\u6240\u6709\u884c",id:"\u66f4\u65b0\u6240\u6709\u884c",level:3},{value:"\u4f7f\u7528 CASE \u8bed\u53e5\u66f4\u65b0",id:"\u4f7f\u7528-case-\u8bed\u53e5\u66f4\u65b0",level:3},{value:"\u4f7f\u7528 TOP \u5b50\u53e5\u66f4\u65b0",id:"\u4f7f\u7528-top-\u5b50\u53e5\u66f4\u65b0",level:3},{value:"\u4f7f\u7528 OUTPUT \u5b50\u53e5",id:"\u4f7f\u7528-output-\u5b50\u53e5",level:3},{value:"\u4f7f\u7528 MERGE \u8bed\u53e5",id:"\u4f7f\u7528-merge-\u8bed\u53e5",level:3}];function d(n){const e={br:"br",h2:"h2",h3:"h3",li:"li",ul:"ul",...(0,r.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"\u5411\u8868\u4e2d\u63d2\u5165\u6570\u636e",children:"\u5411\u8868\u4e2d\u63d2\u5165\u6570\u636e"}),"\n",(0,s.jsx)(e.h3,{id:"\u57fa\u672c\u66f4\u65b0",children:"\u57fa\u672c\u66f4\u65b0"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u66f4\u65b0\u8868\u4e2d\u6240\u6709\u884c\u7684\u6307\u5b9a\u5217","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"UPDATE table_name SET column1 = value1, column2 = value2 WHERE condition"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528-join-\u66f4\u65b0",children:"\u4f7f\u7528 JOIN \u66f4\u65b0"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u57fa\u4e8e\u4e24\u4e2a\u8868\u7684\u5173\u8054\u66f4\u65b0\u8bb0\u5f55","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["UPDATE a",(0,s.jsx)(e.br,{}),"\n","SET a.column_name = b.column_name",(0,s.jsx)(e.br,{}),"\n","FROM table1 a",(0,s.jsx)(e.br,{}),"\n","INNER JOIN table2 b ON a.common_column = b.common_column"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528\u5b50\u67e5\u8be2\u66f4\u65b0",children:"\u4f7f\u7528\u5b50\u67e5\u8be2\u66f4\u65b0"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u4f7f\u7528\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u6765\u66f4\u65b0\u8bb0\u5f55","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["UPDATE table_name",(0,s.jsx)(e.br,{}),"\n","SET column_name = (SELECT expression FROM another_table WHERE condition)",(0,s.jsx)(e.br,{}),"\n","WHERE condition"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u66f4\u65b0\u591a\u4e2a\u5217",children:"\u66f4\u65b0\u591a\u4e2a\u5217"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u540c\u65f6\u66f4\u65b0\u591a\u4e2a\u5217\u7684\u503c","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["UPDATE table_name",(0,s.jsx)(e.br,{}),"\n","SET column1 = value1, column2 = value2, column3 = value3",(0,s.jsx)(e.br,{}),"\n","WHERE condition"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u66f4\u65b0\u6240\u6709\u884c",children:"\u66f4\u65b0\u6240\u6709\u884c"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5728\u6ca1\u6709 WHERE \u5b50\u53e5\u7684\u60c5\u51b5\u4e0b\uff0c\u66f4\u65b0\u8868\u4e2d\u7684\u6240\u6709\u884c\uff08\u8c28\u614e\u4f7f\u7528\uff09","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"UPDATE table_name SET column_name = value"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528-case-\u8bed\u53e5\u66f4\u65b0",children:"\u4f7f\u7528 CASE \u8bed\u53e5\u66f4\u65b0"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u6839\u636e\u4e0d\u540c\u7684\u6761\u4ef6\u66f4\u65b0\u4e0d\u540c\u7684\u503c","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["UPDATE table_name",(0,s.jsx)(e.br,{}),"\n","SET column_name = CASE",(0,s.jsx)(e.br,{}),"\n","WHEN condition1 THEN value1",(0,s.jsx)(e.br,{}),"\n","WHEN condition2 THEN value2",(0,s.jsx)(e.br,{}),"\n","ELSE value3",(0,s.jsx)(e.br,{}),"\n","END",(0,s.jsx)(e.br,{}),"\n","WHERE condition"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528-top-\u5b50\u53e5\u66f4\u65b0",children:"\u4f7f\u7528 TOP \u5b50\u53e5\u66f4\u65b0"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u66f4\u65b0\u8868\u4e2d\u7684\u524d\u51e0\u884c\u8bb0\u5f55","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["UPDATE TOP (number) table_name",(0,s.jsx)(e.br,{}),"\n","SET column_name = value",(0,s.jsx)(e.br,{}),"\n","WHERE condition"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528-output-\u5b50\u53e5",children:"\u4f7f\u7528 OUTPUT \u5b50\u53e5"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u67e5\u770b\u66f4\u65b0\u64cd\u4f5c\u524d\u540e\u7684\u6570\u636e","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["UPDATE table_name",(0,s.jsx)(e.br,{}),"\n","SET column_name = value",(0,s.jsx)(e.br,{}),"\n","OUTPUT deleted.column_name, inserted.column_name",(0,s.jsx)(e.br,{}),"\n","WHERE condition"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528-merge-\u8bed\u53e5",children:"\u4f7f\u7528 MERGE \u8bed\u53e5"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u7ed3\u5408\u4e86 INSERT\u3001UPDATE \u548c DELETE \u64cd\u4f5c\u7684\u590d\u6742\u6570\u636e\u4fee\u6539","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["MERGE target_table AS target",(0,s.jsx)(e.br,{}),"\n","USING source_table AS source",(0,s.jsx)(e.br,{}),"\n","ON target.common_column = source.common_column",(0,s.jsx)(e.br,{}),"\n","WHEN MATCHED THEN",(0,s.jsx)(e.br,{}),"\n","UPDATE SET target.column1 = source.column1",(0,s.jsx)(e.br,{}),"\n","WHEN NOT MATCHED BY TARGET THEN",(0,s.jsx)(e.br,{}),"\n","INSERT (column1, column2)",(0,s.jsx)(e.br,{}),"\n","VALUES (source.column1, source.column2)"]}),"\n"]}),"\n"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},1151:(n,e,l)=>{l.d(e,{Z:()=>t,a:()=>c});var s=l(7294);const r={},i=s.createContext(r);function c(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:c(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);